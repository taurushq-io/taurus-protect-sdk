syntax = "proto3";
package tgvalidatord;

import "google/protobuf/timestamp.proto";

option java_package = "com.taurushq.sdk.protect.proto.v1";

message SolanaStakeAccount {
  enum State {
    unknown = 0;
    inactive = 1;
    activating = 2;
    active = 3;
    deactivating = 4;
  }

  uint64 derivationIndex = 1;
  State state = 2;
  string validatorAddress = 3;
  uint64 activeBalance = 4;
  uint64 inactiveBalance = 5;
  bool allowMerge = 6;
}

enum StakeAccountType {
  StakeAccountTypeNone = 0;
  StakeAccountTypeSolana = 1;
}

message StakeAccount {
  string id = 1;
  uint64 addressId = 2;
  string accountAddress = 3;
  google.protobuf.Timestamp createdAt = 4;
  google.protobuf.Timestamp updatedAt = 5;
  uint64 updatedAtBlock = 6;
  StakeAccountType accountType = 7;

  oneof account {
    SolanaStakeAccount solanaStakeAccount = 100;
  }
}
