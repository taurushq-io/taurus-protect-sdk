syntax = "proto3";
package tgvalidatord;

import "currency.proto";
import "tag.proto";

import "protoc-gen-openapiv2/options/annotations.proto";
import "google/protobuf/timestamp.proto";

option java_package = "com.taurushq.sdk.protect.proto.v1";

message CurrencyStatistics {
  string symbol = 1;
  string blockchain = 2;
  string avgBalancePerAddress = 3 [(grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {description: "Balance in the smallest currency unit, based on the currency decimals. Example: 1500000000000000000 WEI (smallest ETH unit) corresponds to 1.5 ETH (ETH has 18 decimals places)";}];
  uint64 addressesCount = 4;
  uint64 walletsCount = 5;
  string totalBalance = 6;
  string baseCurrencyTotalValue = 7;
  string baseCurrencyTotalValueMainUnit = 8;
  Currency currencyInfo = 9;
}

message CurrencyStatisticsHistory {
  string symbol = 1;
  string blockchain = 2;
  repeated AggregatedStatsHistoryPoint history = 3;
  Currency currencyInfo = 4;
}

message AggregatedStatsHistoryPoint {
  google.protobuf.Timestamp pointDate = 1;
  AggregatedStatsData statsData = 2;
}

message AggregatedStatsData {
  string avgBalancePerAddress = 1 [(grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {description: "Balance in the smallest currency unit, based on the currency decimals. Example: 1500000000000000000 WEI (smallest ETH unit) corresponds to 1.5 ETH (ETH has 18 decimals places)";}];
  uint64 addressesCount = 2;
  uint64 walletsCount = 3;
  string totalBalance = 4 [(grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {description: "Balance in the smallest currency unit, based on the currency decimals. Example: 1500000000000000000 WEI (smallest ETH unit) corresponds to 1.5 ETH (ETH has 18 decimals places)";}];
  string totalBalanceBaseCurrency = 5 [(grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {description: "Balance converted in the base currency (fiat currency like CHF) in main unit";}];
}

// TN Pledges statistics

message TnPledgeStatisticsTnParticipant {
  string counterpartyTnParticipantID = 1;
  string outgoingPledgesTotalValuationBaseCurrency = 2; // total in base currency in main unit (ex. CHF) of all outgoing pledges to THIS counterparty participant for all currencies
  string incomingPledgesTotalValuationBaseCurrency = 3; // total in base currency in main unit (ex. CHF) of all incoming pledges from THIS counterparty participant for all currencies
  repeated TnPledgeStatisticsCurrency pledgeStatisticsCurrencies = 4;
}

message TnPledgeStatisticsCurrency{
  string currencyID = 1;
  string outgoingPledgesAmount = 2; // total in currency unit of all outgoing pledges to THIS counterparty participant for THIS currency
  string outgoingPledgesValuationBaseCurrency = 3; // total in base currency in main unit (ex. CHF) of all outgoing pledges to THIS counterparty participant for THIS currency
  string incomingPledgesAmount = 4; // total in currency unit of all incoming pledges from THIS counterparty participant for THIS currency
  string incomingPledgesValuationBaseCurrency = 5; // total in base currency in main unit (ex. CHF) of all incoming pledges from THIS counterparty participant for THIS currency
}

// Tags statistics

message TagStatistics {
  string tagID = 1;
  string totalValuation = 2 [(grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {description: "Valuation in the base currency main unit (CHF, EUR, USD etc...)";}];
  Tag tag = 3;
}

message TagAssetStatistics {
  string tagID = 1;
  string currencyID = 2;
  string totalBalance = 3 [(grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {description: "Balance in the smallest currency unit, based on the currency decimals. Example: 1500000000000000000 WEI (smallest ETH unit) corresponds to 1.5 ETH (ETH has 18 decimals places)";}];
  string totalBalanceValuation = 4 [(grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {description: "Valuation in the base currency main unit (CHF, EUR, USD etc...)";}];
  google.protobuf.Timestamp creationDate = 5;
  Currency currencyInfo = 6;
}